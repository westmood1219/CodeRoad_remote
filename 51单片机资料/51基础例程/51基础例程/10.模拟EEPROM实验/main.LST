C51 COMPILER V9.52.0.0   MAIN                                                              07/16/2024 11:47:42 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\software\Keil_C51\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*********************************************************************************************************
   2          * Ä£¿éÃû³Æ: Main.c
   3          * Õª    Òª: Ö÷ÎÄ¼þ£¬°üº¬³õÊ¼»¯º¯ÊýºÍmainº¯Êý
   4          * µ±Ç°°æ±¾: 1.0.0
   5          * ×÷    Õß: Leyutek(COPYRIGHT 2018 - 2021 Leyutek. All rights reserved.)
   6          * Íê³ÉÈÕÆÚ: 2022Äê2ÔÂ1ÈÕ
   7          * ÄÚ    ÈÝ: 
   8          * ×¢    Òâ: 
   9          **********************************************************************************************************
  10          * È¡´ú°æ±¾: 
  11          * ×÷    Õß: 
  12          * Íê³ÉÈÕÆÚ: 
  13          * ÐÞ¸ÄÄÚÈÝ: 
  14          * ÐÞ¸ÄÎÄ¼þ: 
  15          *********************************************************************************************************/
  16          /*********************************************************************************************************
  17          *                                              °üº¬Í·ÎÄ¼þ
  18          *********************************************************************************************************/
  19          #include <reg52.h>
  20          #include <EEPROM.h>
  21          
  22          /*********************************************************************************************************
  23          *                                              ºê¶¨Òå
  24          *********************************************************************************************************/
  25          
  26          /*********************************************************************************************************
  27          *                                              Î»¶¨Òå
  28          *********************************************************************************************************/
  29          sbit LED1 = P2 ^ 4;    //Î»¶¨ÒåLED1
  30          sbit LED2 = P2 ^ 5;    //Î»¶¨ÒåLED2
  31          sbit LED3 = P2 ^ 6;    //Î»¶¨ÒåLED3
  32          sbit KEY1 = P3 ^ 2;    //Î»¶¨ÒåKEY1
  33          sbit KEY2 = P3 ^ 3;    //Î»¶¨ÒåKEY2
  34          sbit KEY3 = P3 ^ 4;    //Î»¶¨ÒåKEY3
  35          
  36          /*********************************************************************************************************
  37          *                                              Ã¶¾Ù½á¹¹Ìå¶¨Òå
  38          *********************************************************************************************************/
  39          
  40          /*********************************************************************************************************
  41          *                                              ÄÚ²¿±äÁ¿
  42          *********************************************************************************************************/
  43          
  44          /*********************************************************************************************************
  45          *                                              ÄÚ²¿º¯ÊýÉùÃ÷
  46          *********************************************************************************************************/
  47          static void DelayNms(int nms);
  48          
  49          /*********************************************************************************************************
  50          *                                              ÄÚ²¿º¯ÊýÊµÏÖ
  51          *********************************************************************************************************/
  52          
  53          /*********************************************************************************************************
  54          * º¯ÊýÃû³Æ: DelayNms
  55          * º¯Êý¹¦ÄÜ: Èí¼þÑÓ³Ùº¯Êý£¬ÓÃÓÚÑÓ³ÙÒ»¶ÎÊ±¼ä
C51 COMPILER V9.52.0.0   MAIN                                                              07/16/2024 11:47:42 PAGE 2   

  56          * ÊäÈë²ÎÊý: xms-ÑÓ³ÙÊ±¼ä£¨ºÁÃë£©
  57          * Êä³ö²ÎÊý: void
  58          * ·µ »Ø Öµ: void
  59          * ´´½¨ÈÕÆÚ: 2022Äê2ÔÂ1ÈÕ
  60          * ×¢    Òâ: 
  61          *********************************************************************************************************/
  62          static void DelayNms(int nms)
  63          {
  64   1        unsigned int i,j;
  65   1        for(i = 0; i < nms; i++)
  66   1        {
  67   2          for(j = 0; j < 123; j++)
  68   2          {
  69   3            
  70   3          } 
  71   2        }
  72   1      }
  73          
  74          /*********************************************************************************************************
  75          * º¯ÊýÃû³Æ: main
  76          * º¯Êý¹¦ÄÜ: Ö÷º¯Êý
  77          * ÊäÈë²ÎÊý: void
  78          * Êä³ö²ÎÊý: void
  79          * ·µ »Ø Öµ: void
  80          * ´´½¨ÈÕÆÚ: 2022Äê2ÔÂ1ÈÕ
  81          * ×¢    Òâ: 
  82          *********************************************************************************************************/
  83          void main()
  84          {
  85   1        P2 = IAPByteRead(0x2000);               //¶ÁÈ¡ÆðÊ¼µØÖ·Îª0x2000µÄÉÈÇøÖÐµÄÖµ£¬¸³Öµ¸øP2¼Ä´æÆ÷£¬»Ö¸´LEDµÆ×´Ì
             -¬
  86   1        while(1)  
  87   1        {
  88   2          if(0 == KEY1)                         //µÚÒ»´Î¼ì²âµ½KEY1°´¼ü±»°´ÏÂ
  89   2          {
  90   3            DelayNms(50);                       //µÈ´ýÔ¼50msºóÔÙ´Î¼ì²â°´¼üÊÇ·ñ±»°´ÏÂ£¬Ïû³ý°´¼ü¶¶¶¯´øÀ´µÄÓ°Ïì
  91   3            if(0 == KEY1)                       //µÚ¶þ´Î¼ì²âµ½KEY1°´¼ü±»°´ÏÂ
  92   3            {
  93   4              LED1 = ~LED1;                     //¶ÔLED1×´Ì¬È¡·´£¬¸Ä±äLED1µÄÁÁÃð×´Ì¬
  94   4              while(0 == KEY1);                 //µÈ´ý°´¼üµ¯Æð  
  95   4              IAPSectorErase(0x2000);           //²Á³ýÆðÊ¼µØÖ·Îª0x2000µÄÉÈÇø
  96   4              IAPByteWrite(0x2000,P2);          //¶ÔÆðÊ¼µØÖ·Îª0x2000µÄÉÈÇøÐ´ÈëP2¼Ä´æÆ÷µÄÖµ
  97   4            }
  98   3          }
  99   2      
 100   2          if(0 == KEY2)                         //µÚÒ»´Î¼ì²âµ½KEY2°´¼ü±»°´ÏÂ
 101   2          {                       
 102   3            DelayNms(50);                       //µÈ´ýÔ¼50msºóÔÙ´Î¼ì²â°´¼üÊÇ·ñ±»°´ÏÂ£¬Ïû³ý°´¼ü¶¶¶¯´øÀ´µÄÓ°Ïì
 103   3            if(0 == KEY2)                       //µÚ¶þ´Î¼ì²âµ½KEY2°´¼ü±»°´ÏÂ
 104   3            {
 105   4              LED2 = ~LED2;                     //¶ÔLED2×´Ì¬È¡·´£¬¸Ä±äLED2µÄÁÁÃð×´Ì¬
 106   4              while(0 == KEY2);                 //µÈ´ý°´¼üµ¯Æð
 107   4              IAPSectorErase(0x2000);           //²Á³ýÆðÊ¼µØÖ·Îª0x2000µÄÉÈÇø
 108   4              IAPByteWrite(0x2000,P2);          //¶ÔÆðÊ¼µØÖ·Îª0x2000µÄÉÈÇøÐ´ÈëP2¼Ä´æÆ÷µÄÖµ
 109   4            }
 110   3          }
 111   2      
 112   2          if(0 == KEY3)                         //µÚÒ»´Î¼ì²âµ½KEY3°´¼ü±»°´ÏÂ
 113   2          {
 114   3            DelayNms(50);                       //µÈ´ýÔ¼50msºóÔÙ´Î¼ì²â°´¼üÊÇ·ñ±»°´ÏÂ£¬Ïû³ý°´¼ü¶¶¶¯´øÀ´µÄÓ°Ïì
 115   3            if(0 == KEY3)                       //µÚ¶þ´Î¼ì²âµ½KEY3°´¼ü±»°´ÏÂ
 116   3            {
C51 COMPILER V9.52.0.0   MAIN                                                              07/16/2024 11:47:42 PAGE 3   

 117   4              LED3 = ~LED3;                     //¸Ä±äLED3µÄ¿ª¹Ø×´Ì¬
 118   4              while(0 == KEY3);                 //µÈ´ý°´¼üµ¯Æð 
 119   4              IAPSectorErase(0x2000);           //²Á³ýÆðÊ¼µØÖ·Îª0x2000µÄÉÈÇø
 120   4              IAPByteWrite(0x2000,P2);          //¶ÔÆðÊ¼µØÖ·Îª0x2000µÄÉÈÇøÐ´ÈëP2¼Ä´æÆ÷µÄÖµ
 121   4            }
 122   3          }
 123   2        }
 124   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    137    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
