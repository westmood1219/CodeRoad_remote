/*********************************************************************************************************
* 模块名称: Main.c
* 摘    要: 主文件，包含初始化函数和main函数
* 当前版本: 1.0.0
* 作    者: Leyutek(COPYRIGHT 2018 - 2021 Leyutek. All rights reserved.)
* 完成日期: 2022年2月1日
* 内    容: 
* 注    意: 
**********************************************************************************************************
* 取代版本: 
* 作    者: 
* 完成日期: 
* 修改内容: 
* 修改文件: 
*********************************************************************************************************/
/*********************************************************************************************************
*                                              包含头文件
*********************************************************************************************************/
#include <reg52.h>

/*********************************************************************************************************
*                                              位定义
*********************************************************************************************************/
sbit SegmentG1 = P2^3;  //定义数码管1
sbit SegmentG2 = P2^2;  //定义数码管2
sbit SegmentG3 = P2^1;  //定义数码管3
sbit SegmentG4 = P2^0;  //定义数码管4

/*********************************************************************************************************
*                                              宏定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              枚举结构体定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              内部变量
*********************************************************************************************************/
const unsigned char arrNumber[] = {0x03 , 0x9f , 0x25 , 0x0d , 0x99 , 0x49 , 0x41 , 0x1f , 0x01 , 0x09}; //初始化数码管显示数字0-9

/*********************************************************************************************************
*                                              内部函数声明
*********************************************************************************************************/
static void DelayNms(int nms);

/*********************************************************************************************************
*                                              内部函数实现
*********************************************************************************************************/

/*********************************************************************************************************
* 函数名称: DelayNms
* 函数功能: 软件延时函数，用于延时一段时间
* 输入参数: xms-延时时间（毫秒）
* 输出参数: void
* 返 回 值: void
* 创建日期: 2022年2月1日
* 注    意: 
*********************************************************************************************************/
static void DelayNms(int nms)
{
  unsigned int i,j;
  for(i = 0; i < nms; i++)
  {
    for(j = 0; j < 123; j++)
    {
      
    }
  }
}

/*********************************************************************************************************
* 函数名称: main
* 函数功能: 主函数
* 输入参数: void
* 输出参数: void
* 返 回 值: void
* 创建日期: 2022年2月1日
* 注    意: 
*********************************************************************************************************/
void main()
{
  while (1)
  {
    P0 = arrNumber[1]; //数码管1显示为数字1
    SegmentG1 = 0;       //打开数码管1
    DelayNms(5);         //延时5ms
    SegmentG1 = 1;       //关闭数码管1
    
    P0 = arrNumber[2]; //数码管2显示为数字2
    SegmentG2 = 0;       //打开数码管2
    DelayNms(5);         //延时5ms
    SegmentG2 = 1;       //关闭数码管2
  
    P0 = arrNumber[3]; //数码管3显示为数字3
    SegmentG3 = 0;       //打开数码管3
    DelayNms(5);         //延时5ms
    SegmentG3 = 1;       //关闭数码管3
   
    P0 = arrNumber[4]; //数码管4显示为数字4
    SegmentG4 = 0;       //打开数码管4
    DelayNms(5);         //延时5ms
    SegmentG4 = 1;       //关闭数码管4
  }
}
