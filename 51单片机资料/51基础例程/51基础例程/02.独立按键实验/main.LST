C51 COMPILER V9.52.0.0   MAIN                                                              03/22/2022 19:41:32 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: f:\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*********************************************************************************************************
   2          * 模块名称: Main.c
   3          * 摘    要: 主文件，包含初始化函数和main函数
   4          * 当前版本: 1.0.0
   5          * 作    者: Leyutek(COPYRIGHT 2018 - 2021 Leyutek. All rights reserved.)
   6          * 完成日期: 2022年2月1日
   7          * 内    容: 
   8          * 注    意: 
   9          **********************************************************************************************************
  10          * 取代版本: 
  11          * 作    者: 
  12          * 完成日期: 
  13          * 修改内容: 
  14          * 修改文件: 
  15          *********************************************************************************************************/
  16          
  17          /*********************************************************************************************************
  18          *                                              包含头文件
  19          *********************************************************************************************************/
  20          #include <reg52.h>
  21          
  22          /*********************************************************************************************************
  23          *                                              宏定义
  24          *********************************************************************************************************/
  25          
  26          /*********************************************************************************************************
  27          *                                              位定义
  28          *********************************************************************************************************/
  29          sbit KEY1 = P3^2; //定义按键KEY1
  30          sbit KEY2 = P3^3; //定义按键KEY2
  31          sbit KEY3 = P3^4; //定义按键KEY3
  32          sbit LED1 = P2^4; //定义LED1
  33          sbit LED2 = P2^5; //定义LED2
  34          sbit LED3 = P2^6; //定义LED3
  35          
  36          /*********************************************************************************************************
  37          *                                              枚举结构体定义
  38          *********************************************************************************************************/
  39          
  40          /*********************************************************************************************************
  41          *                                              内部函数声明
  42          *********************************************************************************************************/
  43          static void DelayNms(int nms);
  44          
  45          /*********************************************************************************************************
  46          *                                              内部函数实现
  47          *********************************************************************************************************/
  48          
  49          /*********************************************************************************************************
  50          * 函数名称: DelayNms
  51          * 函数功能: 软件延迟函数，用于延迟一段时间
  52          * 输入参数: xms-延迟时间（毫秒）
  53          * 输出参数: void
  54          * 返 回 值: void
  55          * 创建日期: 2022年2月1日
C51 COMPILER V9.52.0.0   MAIN                                                              03/22/2022 19:41:32 PAGE 2   

  56          * 注    意: 
  57          *********************************************************************************************************/
  58          static void DelayNms(int nms)
  59          {
  60   1        unsigned int i,j;
  61   1        for(i = 0; i < nms; i++)
  62   1        {
  63   2          for(j = 0; j < 123; j++)
  64   2          {
  65   3            
  66   3          } 
  67   2        }
  68   1      }
  69          
  70          /*********************************************************************************************************
  71          * 函数名称: main
  72          * 函数功能: 主函数
  73          * 输入参数: void
  74          * 输出参数: void
  75          * 返 回 值: void
  76          * 创建日期: 2022年2月1日
  77          * 注    意: 
  78          *********************************************************************************************************/
  79          void main()
  80          {
  81   1        LED1 = 0;          //打开LED1
  82   1        LED2 = 0;          //打开LED2
  83   1        LED3 = 0;          //打开LED3
  84   1        while(1)  
  85   1        {
  86   2          if(0 == KEY1)           //第一次检测到KEY1按键被按下
  87   2          {
  88   3            DelayNms(80);         //等待约80ms后再次检测按键是否被按下，消除按键抖动带来的影响
  89   3            if(0 == KEY1)
  90   3            {
  91   4              LED1 = ~LED1;       //对LED1状态取反，改变LED1的亮灭状态
  92   4              while(0 == KEY1);   //等待按键弹起  
  93   4            }
  94   3          }
  95   2          if(0 == KEY2)           //第一次检测到KEY2按键被按下
  96   2          {
  97   3            DelayNms(80);         //等待约80ms后再次检测按键是否被按下，消除按键抖动带来的影响
  98   3            if(0 == KEY2)
  99   3            {
 100   4              LED2 = ~LED2;       //对LED2状态取反，改变LED2的亮灭状态
 101   4              while(0 == KEY2);   //等待按键弹起
 102   4            }
 103   3          }
 104   2          if(0 == KEY3)           //第一次检测到KEY3按键被按下
 105   2          {
 106   3            DelayNms(80);         //等待约80ms后再次检测按键是否被按下，消除按键抖动带来的影响
 107   3            if(0 == KEY3)
 108   3            {
 109   4              LED3 = ~LED3;       //对LED3状态取反，改变LED3的亮灭状态
 110   4              while(0 == KEY3);   //等待按键弹起 
 111   4            }
 112   3          }
 113   2        }
 114   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V9.52.0.0   MAIN                                                              03/22/2022 19:41:32 PAGE 3   

   CODE SIZE        =     86    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
